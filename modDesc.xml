<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<modDesc descVersion="80">
    <author>Farmsim Tim (timmeey86)</author>
    <version>1.0.6.1</version>
    <title>
        <en>Forestry Helper</en>
        <de>Forstwirtschaftshelfer</de>
        <ru>Помощник Лесоруба</ru>
        <pl>Pomocnik Pilarza</pl>
    </title>
    
    <description>
        <en><![CDATA[This mod (formerly "Tree Value Info") displays helpful information for logs and helps with cutting to desired lengths or weights.        

The mod offers three modes for cutting with a chain saw, through which you can cycle with a customizable keybind (default: C):
- "Indication Mode: Off": Base game behavior
- "Indication Mode: Length": Cut to exact lengths from 1-12 meters (Cycle lengths with key Z). An additional length or factor can be added through the settings.
- "Indication Mode: Weight": Cut to pieces which can be carried. This produces pieces less than the given weight limit most of the time.

The weight mode is however just a rough estimate and can deviated by up to 100kg from the target weight, especially for things like oak trees.
The weight mode can scale up to 1000kg to match the possible strength settings of the Lumberjack mod.

The chainsaw will snap to the indicated location once within 20cm. The angle still has to be adjusted manually, however.

Additionally, the following information is displayed the help window:
- The volume of the piece of wood in liters. This is also being displayed before felling.
- The current value, which is the amount of money you would get if you sold the piece of wood in its current form.
- Hints on which kind of factors could reduce the value of the piece of wood like the shape, the length and the number of branches still attached.
- The total quality of the piece of wood as calculated by the game, where 120% is the maximum.
- The amount of liters you would get when processing the piece of wood with a wood chipper.
- The amount of money you would get if you sold the wood chips right now.
- An estimation of money you would get if you sold the wood chips at best price (sometimes you can get more than that, due to randonmness).

Note that in order to get the maximum quality possible, a piece of wood needs to be a near perfect frustum of a cone, between 6-11m in length (about 20-36 feet) and may not have any branches still attached.
A perfect shape is not possible for every piece of wood.

The info box will also be displayed whenever a chainsaw is equipped and the ring around the tree to be cut is possible.
While sitting in a wood harvester, you will see basic information about the tree, but no quality details, since those can only be calculated for the full tree, not for the next piece to be cut unfortunately.

This mod is of course compatible with the lumberjack mod.

Changelog:
Version 1.0.6.1
- It is now possible to add a length buffer when cutting to length (absolute or relative)
- Indication mode settings and additional length settings are now saved (independent of the save game)

Version 1.0.5.6
- Fixed an issue which prevented the mod from working in multiplayer at all
- Chainsaw snapping now works in multiplayer
- Disabled cutting to weight feature in multiplayer since clients have no information about the mass of logs
- Fixed an issue where entering and leaving a vehicle would break the F1 menu entries
- Added Polish translation (provided by Ziuta)

Version 1.0.4.1
- Added a feature which indicates a desired cutting length and snaps the chainsaw to it when the chainsaw is within 20cm of that location
- Added a feature which indicates a target cutting weight
- Added keybinds for these features (default: Z on English keyboards) and for cycling through the indication modes (default: c)
- Renamed mod from "Tree Value Info" to "Forestry Helper" since it is no longer a mere display

Version 1.0.3.1
- Resolved a mod conflict with Wood Harvester Controls and decreased likelyhood of similar conflicts with other mods
- More Russian translations (provided by vitalii2011)

Version 1.0.3.0
- Added more detailed quality information
- Added russian translation (provided by Gonimy-Vetrom)
- Info box is now displayed while sitting in a wood harvester

Version 1.0.2.0:
- Info Box is now displayed whenever the ring around a piece of wood is visible (caused by an equipped chainsaw)
- Removed cut length recommendation (too inaccurate) and added quality

Version 1.0.1.0:
- Added wood chip info
]]></en>
        <de><![CDATA[Diese Mod (vormals "Holzpreis Info") zeigt nützliche Informationen für Baumstämme und hilft dabei, auf gewünschte Längen oder Gewichte zuzusägen.

Die Mod bietet drei Modi zum Zuschneiden mit einer Kettensäge, durch die man mit einem konfigurierbaren Tastenkürzel durchschalten kann (Standard: C):
- "Kennzeichnungsmodus: Aus": Standard-Verhalten des Spiels
- "Kennzeichnungsmodus: Länge": Auf exakte Länge zuschneiden, von 1-12 Meter (Längen kann man über die Taste Y ändern). In den Optionen kann hier noch Überlänge dazu gerechnet werden.
- "Kennzeichnungsmodus: Gewicht": Auf tragbare Stücke zuschneiden. Dieser Modus produziert meistens Stücke mit einem Gewicht unter dem Limit.

Der Gewichts-Modus arbeitet jedoch nur mit einer groben Schätzung, die bis zu 100kg in beide Richtungen abweichen kann, vor allem bei Bäumen wie Eichen.
Der Gewichtsmodus skaliert bis 1000kg, was den Einstellungmöglichkeiten der Holzfäller Mod entspricht.

Die Kettensäge rastet bei der angezeigten Position ein, sobald man sich innerhalb von 20cm davon befindet. Der Winkel muss jedoch manuell eingestellt werden.

Die Mod zeigt zusätzlich folgende Informationen an:
- Das Volumen des Holzstücks in Litern. Dies wird auch dann angezeigt, wenn der Baum noch nicht gefällt wurde.
- Der aktuelle Wert, den man bekommen würde, wenn man das Holzstück in seiner aktuellen Form verkaufen würde.
- Hinweise darauf, welche Einflussfaktoren den Wert des Holzstücks reduzieren könnten, wie die Form, die Länge und die Anzahl an noch vorhandenen Ästen.
- Die Gesamtqualität des Holzstücks, so wie sie vom Spiel berechnet wird, wobei 120% das Maximum ist.
- Die Anzahl an Litern, die man bekommen würde, wenn man das Holzstück mit einem Häcksler verarbeiten würde.
- Die Menge an Geld, die man bekommen würde, wenn man die Hackschnitzel sofort verkaufen würde.
- Eine Abschätzung über den Preis, den man erzielen würde, wenn man die Hackschnitzel zum Bestpreis verkauft (manchmal bekommt man noch mehr, aufgrund von zufälligen Abweichungen).

Beachtet, dass man die maximale Qualität nur dann erreicht, wenn das Holzstück nahezu einem perfekten Kegelstumpf gleicht, 6-11m lang ist und keine Äste mehr vorhanden sind.
Es ist nicht mit jedem Holzstück möglich, die Perfekte Form zu erreichen.

Diese Mod ist selbstverständlich mit der Holzfäller Mod kompatibel.

Changelog:
Version 1.0.6.1
- Es ist jetzt möglich, beim Zusägen auf Länge noch etwas Verschnitt mit einzuplanen (absolut oder relativ)
- Die Einstellungen für den Kennzeichnungsmodus und die zusätzliche Länge werden nun gespeichert (unabhängig vom Spielstand)

Version 1.0.5.6
- Problem behoben, durch das die Mod im Mehrspielermodus nicht funktioniert hat
- Die Einrastfunktion funktioniert jetzt auch im Mehrspieler-Modus
- Das Zusägen auf Gewicht wurde im Mehrspielermodus deaktiviert, da auf den Clients keine Information über das Gewicht von Holzstücken vorliegt.
- Problem behoben, durch das beim Verlassen eines Fahrzeugs Einträge im F1 Menü verschwunden sind
- Polnische Übersetzung hinzugefügt (bereitgestellt von Ziuta)

Version 1.0.4.1
- Funktion hinzugefügt, die eine gewünschte Schnittlänge anzeigen kann. Die Kettensäge rastet an dieser Position ein, wenn sie max. 20cm entfernt ist.
- Funktion hinzugefügt, die ein Gewichtsziel anzeigen kann (das ist eine Abschätzung, keine exakte Berechnung)
- Tastatürkürzel für die Funktionen hinzugefügt (Standard: Y auf deutscher Tastatur) und zum Durchschalten der Modi (Standard: C)
- Mod von "Holzpreis Info" in "Forstwirtschaftshelfer" umbenannt, da sie keine reine Anzeige mehr ist

Version 1.0.3.1
- Konflikts mit Holzvollernter-Steuerungen gelöst und Chance reduziert, dass vergleichbare Konflikte auftreten
- Russische Übersetzung überarbeitet (bereitgestellt von vitalii2011)

Version 1.0.3.0
- Mehr Detailinformationen über die Qualität hinzugefügt
- Russische Übersetzung hinzugefügt (bereitgestellt von Gonimy-Vetrom)
- Die Info Box wird nun auch angezeigt, während man in einem Hollzvollernter (Harvester) sitzt

Version 1.0.2.0:
- Info Box wird nun immer angezeigt, solange ein Ring um ein Stück Holz sichtbar ist (wenn man eine Kettensäge benutzt)
- Vorschlag zur optimalen Schnittlänge entfernt (zu ungenau) und Qualitäts-Wert hinzugefügt

Version 1.0.1.0:
- Informationen für Hackschnitzel hinzugefügt
]]></de>
    </description>
    
    <multiplayer supported="true" />

    <iconFilename>icon_TreeValueInfo.dds</iconFilename>

    <extraSourceFiles>
        <sourceFile filename="scripts/CutPositionIndicator.lua" />
        <sourceFile filename="scripts/WoodPriceCalculation.lua" />
        <sourceFile filename="scripts/WoodHarvesterInjection.lua" />
        <sourceFile filename="scripts/lib/UIHelper.lua" />
        <sourceFile filename="scripts/settings/FHSettings.lua" />
        <sourceFile filename="scripts/settings/FHSettingsRepository.lua" />
        <sourceFile filename="scripts/settings/FHSettingsUI.lua" />
        <sourceFile filename="scripts/TreeValueInfo.lua" />
    </extraSourceFiles>

    <l10n filenamePrefix="i18n/locale" />

    <actions>
        <action name="CYCLE_LENGTH_INDICATOR" axis="HALF"/>
        <action name="CYCLE_WEIGHT_INDICATOR" axis="HALF"/>
        <action name="SWITCH_INDICATOR_MODE" axis="HALF"/>
    </actions>
    <inputBinding>
        <actionBinding action="CYCLE_LENGTH_INDICATOR">
            <binding device="KB_MOUSE_DEFAULT" input="KEY_z"/>
        </actionBinding>
        <actionBinding action="CYCLE_WEIGHT_INDICATOR">
            <binding device="KB_MOUSE_DEFAULT" input="KEY_z"/>
        </actionBinding>
        <actionBinding action="SWITCH_INDICATOR_MODE">
            <binding device="KB_MOUSE_DEFAULT" input="KEY_c"/>
        </actionBinding>
    </inputBinding>
</modDesc>
